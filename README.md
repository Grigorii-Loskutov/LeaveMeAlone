# Проект «Игра LeaveMeAlone»

Курсовой проект — компьютерная 3D игра на движке Unreal Engine. 


### 1. Условия:
Игра состоит из двух уровней:
1) На первом уровне игрока атакует только один тип противников (зомби Romeo).
   * Время игровой сессии на первом уровне составляет 5 мин.
2) На втором уровне игрока атакуют два типа противников.
   * Один – это противники, аналогичные неигровым персонажам первого уровня.
   * Второй – новые противники, имеющие показатель здоровье Х1.5 от показателей здоровья первых противников.
   * Также новые противники имеют больший базовый урон, базовую скорость и скорость атаки, относительно первых противников.
   * Время игровой сессии на втором уровне составляет 5 мин.

### 2. Управление:
* Герой всегда повёрнут в сторону курсора.
* Передвижение на уровне происходит при помощи WASD.
* При нажатии L Shift игрок выполняет ускорение на ограниченную дистанцию, равную количеству потраченной выносливости. После спринта необходимо время для восстановления показателей выносливости для повторного бега. По время спринта игрок не может стрелять или перезаряжать оружие.
* При клике на ПКМ — стреляет. 

#### Начало игры. 
Появляется меню, в нём 2 активных кнопки — начать игру или выйти из неё.</br>
А также дополнительный информационный пользовательский виджет – рекорд очков в игре на текущий момент.

#### Процесс игры.
Игра с видом сверху с небольшим наклоном камеры.</br>
На игровом поле в центре появляется герой.

**Интерфейс:** отображает время сессии, количество набранных очков, здоровья игрока и зарядов боеприпасов. 

**Стрельба:** персонаж может стрелять как одиночными выстрелами, так и очередью.</br>
У игрока ограниченное количество патронов в обойме (30 шт.) и бесконечное количество обойм.</br>
При окончании патронов в магазине происходит анимация автоматической перезарядки, во время которой игрок не может стрелять.</br>
При нажать кнопки R происходит принудительная перезарядка.</br>
Если у игрока полный магазин, перезарядка не производится.

За	пределами	экрана через	определенные промежутки времени создаются противники из точек спауна.</br>
При этом:
* Противники появляются через одинаковые промежутки временени (16 с)
* При появлении, неигровые персонажи движутся блуждают по карте случайным образом, пока "не увидят" игрока.
* После этого NPC начинает сближение с игроком и переходит на бег
* После попадания противником по игроку, показатели жизней игрока понижаются и изменения отображаются в HealthBar.
* У противников имеются жизненные показатели, отражаемые в виджет HealthBar.
* После попадания игроком по противнику, показатели жизней понижаются и изменения отображаются в HealthBar.
* Противники находятся на игровом поле до момента смерти.
* Игрок не должен иметь возможности пройти к точкам спауна неигровых персонажей.

**При окончании игровой сессии первого уровня** - все противники, оставшиеся в живых, исчезают, без начисления дополнительных очков игроку. Запускается виджет таймера, сигнализирующий о переходе на новый уровень. При переходе на новый уровень - очки первого уровня сохраняются в соответствующем виджете. Камера и спаун противников, происходят по законам описанным выше. 

**При окончании игровой сессии второго уровня** - появляется пользовательский интерфейс - Time Over и предложение сыграть снова или перейти в главное меню. А также информационный виджет, сколько игрок набрал очков в текущей игровой сессии. Если количество очков превышает текущий рекорд, то результат рекорда в главном меню должен быть перезаписан новыми значениями. После подтверждения повторной попытки игра запускается на первом уровне.

**При проигрыше** - смерти игрока, появляется пользовательский интерфейс - Game Over и предложение сыграть снова или перейти в главное меню. А также информационный виджет, сколько игрок набрал очков в текущей игровой сессии. Если количество очков превышает текущий рекорд, то результат рекорда в главном меню должен быть перезаписан новыми значениями. После подтверждения повторной попытки игра запускается на первом уровне.

**При вызове меню паузы** – игра ставится на паузу,  появляется пользовательский интерфейс - Pause и предложение – вернуться в игру текущей сессии, сыграть снова или перейти в главное меню.

#### Новые механики, которые необходимо реализовать:
* Добавьте эффект screen shake — драматическую тряску камеры при понижении жизней игрока до критических значение (5-10% от максимального количества здоровья).
* Реализуйте рандомный спаун пикапа здоровья. Раз в минуту должен появляться один пикап здоровья, локация спауна должна происходить в одном из углов игрового поля. После появления, в случае, если игрок его не успел подобрать, пикап автоматически исчезает через 10 секунд.
* Второй уровень игры должен иметь минимально – незначительные графические отличия от первого уровня.
* Новый тип противника, появляющийся на втором уровне должен иметь минимально – цветовые отличия от старого типа противников.

# Технологии
- C++
- Unreal Engine 5
- Стандартная библиотека C++ для работы с файлами и многопоточности
- Библиотека pqxx для взаимодействия с базой данных PostgreSQL
- Библиотека Gumbo для корректного поиска ссылок на web-страницах

# Как начать
Чтобы начать работу с Spider и Finder, клонируйте репозиторий и установите зависимости (для библиотек Boost и pqxx). Необходимо создать базу данных PostgreSQL для хранения результатов индексации.
В файл configuration.ini внести: параметры для подключения к базе данных, адрес начальной страницы для поиска, глубину рекурсивного поиска
Для Finder в файл configuration.ini внести: адрес для запуска HTTP-сервера, порт для HTTP-сервера (по-умолчнию 127.0.0.1 и 8080)
